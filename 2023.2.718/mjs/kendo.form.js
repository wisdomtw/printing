/**
 * Kendo UI v2023.2.718 (http://www.telerik.com/kendo-ui)
 * Copyright 2023 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
import"./kendo.editable.js";import"./kendo.button.js";var __meta__={id:"form",name:"Form",category:"web",description:"The Form widget.",depends:["editable","button"],features:[{id:"form-dropdowns",name:"DropDowns",description:"Support for DropDown editors",depends:["autocomplete","combobox","multiselect","dropdowntree","multicolumncombobox"]},{id:"form-datepickers",name:"DatePickers",description:"Support for DatePicker editors",depends:["dateinput","datepicker","datetimepicker","timepicker"]},{id:"form-inputs",name:"Inputs",description:"Support for Input editors",depends:["numerictextbox","maskedtextbox","switch","rating","slider","colorpicker","radiogroup","checkboxgroup","textbox","textarea","checkbox"]},{id:"form-editor",name:"Editor",description:"Support for Editor editor",depends:["editor"]}]};!function(e,t){var i=window.kendo,a=i.ui,o=".kendoForm",l=a.Widget,r=e.extend,n=i.htmlEncode,d="validate",s="validateField",p="change",f="submit",u="clear",m="equalSet",c="group",b="aria-describedby",g="data-stop",_="data-role",v=".",h={form:"k-widget k-form",horizontal:"k-form-horizontal",vertical:"",field:"k-form-field",fieldsContainer:"k-form-fields-container",fieldWrap:"k-form-field-wrap",fieldError:"k-form-field-error",fieldHint:"k-form-hint",fieldset:"k-form-fieldset",layout:"k-form-layout",legend:"k-form-legend",label:"k-label k-form-label",emptyLabel:"k-form-label k-label-empty",optional:"k-label-optional",buttonsContainer:"k-form-buttons",buttonsEnd:"k-buttons-end",submit:"k-form-submit",clear:"k-form-clear",invalid:"k-invalid",hidden:"k-hidden"},y="horizontal",k="vertical",w=l.extend({init:function(e,t){var a=this;l.fn.init.call(a,e,t),a.options=i.deepExtend({},a.options,t),t&&t.formData&&(a.options.formData=t.formData),a._wrapper(),a._setFields(),a._setModel(),a._renderContainers(),a.options.renderButtons&&a._renderButtons(),a._editable(),a._renderBoolLabels(),a._renderFieldsHints(),a._setEvents(),a._applyCssClasses()},events:[s,d,p,f,u],options:{name:"Form",orientation:k,validatable:{validateOnBlur:!0,validationSummary:!1,errorTemplate:null},buttonsTemplate:null,messages:{submit:"Submit",clear:"Clear",optional:"(Optional)"},layout:"",grid:{},formData:{},items:[],formatLabel:null,focusFirst:!1,renderButtons:!0,size:"medium"},_noLabelfieldTemplate:({styles:e,colSpan:t,hidden:i,field:a})=>`<div class='${n(e.field)} ${t?`k-colspan-${n(t)} k-col-span-${n(t)}`:""} ${i?n(e.hidden):""}'><span class='${n(e.emptyLabel)}'></span><div class='k-form-field-wrap' data-container-for='${n(a)}'></div></div>`,_fieldTemplate:({styles:e,colSpan:t,hidden:i,field:a,label:o,id:l,optional:r})=>`<div class='${n(e.field)} ${t?`k-colspan-${n(t)} k-col-span-${n(t)}`:""} ${i?`${n(e.hidden)}`:""}'>`+(o&&!i?`<label class='${n(e.label)}' for='${n(l)}' id='${n(l)}-form-label'>`+(void 0!==o.encoded&&!1===o.encoded?o.text||o:n(o.text||o))+(o.optional?`<span class='${n(e.optional)}'>${n(r)}</span>`:"")+"</label>":"")+`<div class='k-form-field-wrap' data-container-for='${n(a)}'></div></div>`,_boolLabelTemplate:({styles:e,colSpan:t,hidden:i,field:a,label:o,id:l,optional:r})=>`<label class='k-checkbox-label' for='${n(l)}' id='${n(l)}-form-label'>`+(void 0!==o.encoded&&!1===o.encoded?o.text||o:n(o.text||o))+(o.optional?`<span class='${n(e.optional)}'>${n(r)}</span>`:"")+"</label>",_groupTemplate:({styles:e,colSpan:t,label:i})=>`<fieldset class='${n(e.fieldset)} ${t?`k-colspan-${n(t)} k-col-span-${n(t)}`:""}'><legend class='${n(e.legend)}'>${n(i.text||i)}</legend></fieldset>`,_errorTemplate:({field:e,message:t})=>`<span class='k-form-error' id='${e}-form-error'><div>${t}</div></span>`,_hintTemplate:({id:e,message:t})=>`<div class='k-form-hint' id='${e}-form-hint'><span>${t}</span></div>`,_wrapper:function(){var e=this,t=e.options,i=w.styles,a=t.width,o=t.height;e.wrapper=e.element.addClass(i.form).addClass(i[t.orientation]),o&&e.wrapper.height(o),a&&e.wrapper.css("max-width",a),e.layoutWrapper=e._setupLayoutContainer(e.wrapper,{grid:t.grid,layout:t.layout})},_flattenFields:function(e){for(var t=[].concat(e),i=t.shift(),a=[],o=[].push;i;)i.items?o.apply(t,i.items):o.call(a,i),i=t.shift();return a},_defaultLabel:function(e){var t=this.options.formatLabel;if(e.length)return i.isFunction(t)?t(e):e.split(/(.*[a-z])(?=[A-Z])/).join(" ").trim()+":"},_formatLabel:function(t,i){return undefined!==(e.isPlainObject(i)?i.text:i)?i:this._defaultLabel(t)},_defaultFields:function(){var e,t=this.options,i=Object.keys(t.formData||{}),a=t.items||{},o=[];if(a.length)return a;for(var l=0;l<i.length;l+=1)e=i[l],o.push({field:e,id:e});return o},_setFields:function(){var e,t,o,l,n,d=this,s=d._flattenFields(d._defaultFields()),p=d.options.formData||{};for(var f in d._fields=[],s)t=p[(e=s[f]).field],o="string"==typeof e.editor?e.editor:i.type(t&&i.parseDate(t.toString())||t),l=i.isFunction(e.editor)?e.editor:a.Editable.fn.options.editors[o]?"":e.editor,d._isHidden(e.editor)||(e.label?n={"aria-labelledby":e.id||e.field+"-form-label"}:e.attributes&&e.attributes["aria-label"]||(n={"aria-label":e.name||e.field})),e=r(!0,{label:e.label||e.name||e.field,optionalText:d.options.messages.optional},e,{id:e.id||e.field,name:e.name||e.field,type:o,editor:l,attributes:n,isHidden:d._isHidden(e.editor)||d._isAntiForgeryToken(e.name||e.field)}),d._fields[f]=e},_setModel:function(){var e=this,t=e.options,a=t.formData||{};if(t.formData instanceof i.data.ObservableObject)e._model=a;else{var o=i.data.Model.define({fields:e._fields});e._model=new o(a)}},_editable:function(){var e=this,t=e.options,i=e.options.validatable;e._addEditableMvvmAttributes(),e.editable=e.wrapper.kendoEditable({model:e._model,fields:e._fields||[],validateOnBlur:i.validateOnBlur,validationSummary:i.validationSummary,errorTemplate:i.errorTemplate||e._errorTemplate,clearContainer:!1,skipFocus:!t.focusFirst,target:e,size:t.size}).getKendoEditable(),e.validator=e.editable.validatable,e._removeEditableMvvmAttributes()},_addEditableMvvmAttributes:function(){this.wrapper.attr(_,"editable")},_removeEditableMvvmAttributes:function(){this.wrapper.attr(g,!0).attr(_,"form")},_getItemTemplate:function(e){return e===c?this._groupTemplate:this._fieldTemplate},_isHidden:function(e){return"string"==typeof e&&"hidden"===e},_isAntiForgeryToken:function(e){return e===a.Editable.antiForgeryTokenName},_renderField:function(e){var t,a=this,o=w.styles,l=a.options.orientation===y,r=a._model.fields&&a._model.fields[e.field]&&a._model.fields[e.field].type,n=r&&"boolean"===r;return t=n&&l&&!e.editor?a._noLabelfieldTemplate:a._fieldTemplate,i.template(t)({styles:o,id:e.id||e.field||"",field:e.field||"",label:n&&!e.editor?null:a._formatLabel(e.field,e.label),colSpan:e.colSpan||"",optional:a.options.messages.optional,hidden:a._isHidden(e.editor)||a._isAntiForgeryToken(e.field)})},_toggleFieldErrorState:function(e,t){var i=e.closest(v+h.field);i.length&&i.toggleClass(h.fieldError,t)},_renderBoolLabels:function(){for(var e,t,a=this,o=w.styles,l=a._fields,r=0;r<l.length;r+=1)e=l[r],(t=a.wrapper.find("[name='"+e.name+"']:not([type='hidden'])"))&&e.label&&!e.isHidden&&"boolean"===e.type&&!e.editor&&t.after(i.template(a._boolLabelTemplate)({styles:o,id:e.id||e.field||"",optional:a.options.messages.optional,label:a._formatLabel(e.field,e.label)}))},_renderFieldsHints:function(){for(var t,a,o,l,r,n=this,d=n._fields,s=0;s<d.length;s+=1)t=d[s],(o=n.wrapper.find(`[name='${t.name}'],[id='${t.name}']`))&&t.hint&&!t.isHidden&&(r=e(i.template(n._hintTemplate)({message:t.hint||"",id:t.id})),n._associateHintContainer(o,r.attr("id")),(a=i.widgetInstance(o))&&(o=(l=a.element.next("label[for='"+a.element.attr("id")+"']")).length?l:a.wrapper),n.validator._errorsByName(t.name).length&&(r.toggleClass(h.hidden),i.removeAttribute(o,b,r.attr("id"))),r.insertAfter(o))},_associateHintContainer:function(e,t){var a=i.getWidgetFocusableElement(e);a&&t&&i.toggleAttribute(a,b,t)},_toggleHint:function(e,t){var i,a=e.closest(v+h.field);a.length&&(i=a.find(v+h.fieldHint)).length&&(i.toggleClass(h.hidden,t),this._associateHintContainer(e,i.attr("id")))},_renderGroup:function(t){var a,o,l,r=this,n=t.type;l=o=e(i.template(r._getItemTemplate(n))({styles:h,label:t.label||"",colSpan:t.colSpan})),l=r._setupLayoutContainer(o,{grid:t.grid,layout:t.layout})||o;for(var d=0;d<t.items.length;d+=1)a=t.items[d],l.append(r._renderField(a));return o},_renderContainers:function(){for(var e,t,i=this,a=i._defaultFields(),o="grid"===i.options.layout?i.layoutWrapper:i.wrapper,l=0;l<a.length;l+=1)t=(e=a[l]).type===c?i._renderGroup(e):i._renderField(e),o.append(t)},_buttonsTemplate:function(){var t,a,o,l=this.options,r=l.messages,d=w.styles;return null!==l.buttonsTemplate?t=i.template(l.buttonsTemplate)({styles:d,messages:r}):(a=e("<button class='"+d.submit+"'>"+n(r.submit)+"</button>").kendoButton({type:"submit",themeColor:"primary",size:l.size}),o=e("<button class='"+d.clear+"'>"+n(r.clear)+"</button>").kendoButton({size:l.size}),t=a.add(o)),t},_renderButtons:function(){var t,i=this,a=i.wrapper,o=i.options,l=w.styles,r=o.orientation===y,n=a.find(v+l.buttonsContainer);n.length||(n=e("<div />").addClass(l.buttonsContainer).addClass(r?l.buttonsEnd:"")),t=i._buttonsTemplate(),n.append(t),i.element.append(n)},_setupLayoutContainer:function(t,i){var a,o,l,r=i.layout,n=i.grid,d=[];return"string"==typeof r&&""!==r&&(a=e("<div></div>").appendTo(t).addClass(h.layout),d.push("k-d-"+r)),"grid"===r&&"object"==typeof n&&("number"==typeof n.cols?d.push("k-grid-cols-"+n.cols):"string"==typeof n.cols&&a.css("grid-template-columns",n.cols),"number"==typeof n.gutter||"string"==typeof n.gutter?a.css("grid-gap",n.gutter):e.isPlainObject(n.gutter)&&("number"==typeof(o=n.gutter.rows)&&(o+="px"),"number"==typeof(l=n.gutter.cols)&&(l+="px"),a.css("grid-gap",o+" "+l))),a&&a.addClass(d.join(" ")),a},_setEvents:function(){var e=this;e.validator.bind("validateInput",e._validateField.bind(e)).bind(d,e._validate.bind(e)),e.wrapper.on(f+o,e._submit.bind(e)).on(u+o,e._clear.bind(e)).on("click.kendoForm"+o,v+h.clear,e._clear.bind(e)),e._changeHandler||(e._changeHandler=e._change.bind(e)),e._model.bind(p,e._changeHandler)},_validateField:function(e){var t=this,i={model:t._model.toJSON(),valid:e.valid,field:e.field,error:e.error,input:e.input};t._toggleFieldErrorState(i.input,!i.valid),t._toggleHint(i.input,!i.valid),t.trigger(s,i)&&e.preventDefault()},_validate:function(e){var t={model:this._model.toJSON(),valid:e.valid,errors:e.errors};this.trigger(d,t)},_change:function(e){var t=e.field,i={field:t,value:this._model[t]};this.trigger(p,i)},_submit:function(e){var t=this._model.toJSON();this.trigger(f,{model:t})&&e.preventDefault()},_clear:function(e){e.preventDefault(),this.clear(),this.trigger(u)},validate:function(){var e=this.validator;if(e)return e.validate()},clear:function(){var e=this,t=e._fields,a=e._model,o=e.editable,l=e.validator.options.validateOnBlur;e.validator.reset(),l&&a.unbind("set").unbind(m);for(var r=0;r<t.length;r+=1){var n=t[r].field,d=e.wrapper.find("[name='"+n+"']"),s=i.widgetInstance(d),p=d.is("input[type=hidden]");d.is("[data-role='checkboxgroup']")||d.is("[data-role='radiogroup']")||p||d.val(""),!s&&d.hasClass("k-hidden")&&(s=i.widgetInstance(d.closest(".k-signature"))),s&&(i.ui.Upload&&s instanceof i.ui.Upload?s.clearAllFiles():s.value(null)),e._toggleHint(d,!1),"boolean"==typeof a[n]?(d.val("false"),a.set(n,!1)):p||a.set(n,null)}e.wrapper.find(v+h.fieldError).removeClass(h.fieldError),l&&a.bind("set",o._validateProxy).bind(m,o._validateProxy)},setOptions:function(e){var t=this;t.destroy(),t.wrapper.removeClass(h.horizontal).removeAttr(g).empty(),t.init(t.element,e)},destroy:function(){var e=this;e.wrapper.off(o),e._model&&(e._model.unbind(p,e._changeHandler),e._changeHandler=null),l.fn.destroy.call(e.editable),l.fn.destroy.call(e),e.editable&&(e.editable.destroy(),e.editable=null)}});i.cssProperties.registerPrefix("Form","k-form-"),a.plugin(w),r(!0,w,{styles:h})}(window.kendo.jQuery);var kendo$1=kendo;export{kendo$1 as default};
//# sourceMappingURL=kendo.form.js.map
